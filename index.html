<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>
    html {
      box-sizing: border-box;
    }

    *,
    *:before,
    *:after {
      box-sizing: inherit;
    }

    .table-scroll {
      position: relative;
      width: 100%;
      z-index: 1;
      margin: auto;
      overflow-x: auto;
    }

    .table-scroll table {
      width: 100%;
      min-width: 1280px;
      margin: auto;
      border-collapse: separate;
      border-spacing: 0;
      overflow-x: auto;
    }

    .table-wrap {
      position: relative;
    }

    .table-scroll th,
    .table-scroll td {
      padding: 5px 10px;
      border: 1px solid #000;
      background: #fff;
      vertical-align: top;
    }

    .clone-table-wrapper {
      position: sticky;
      top: 0;
      display: none;
      z-index: 10;
      overflow: hidden;
    }

    .clone-table-wrapper.visible {
      display: block;
    }

    .clone-table {
      width: 100%;
      position: relative;
    }

    .clone-table th {
      background: red;
    }

    .clone-table.visible {
      display: table;
    }
  </style>
</head>
<body>

  <h1 class="intro">Table with fluid height and width fixed header, footer and first column using position:sticky </h1>
  <p class="intro">This example uses position:sticky on the th elements in the thead, tfoot and left column to achieve
    the fixed effect. Browsers that don't support position:sticky will just get a normal table so no harm done. Resize
    browser smaller to see fixed first column.</p>

  <div class="clone-table-wrapper">
    <table id="clone-table" class="clone-table">
      <thead>
        <tr>
          <th scope="col">Header 1</th>
          <th scope="col">Header 2</th>
          <th scope="col">Header 3 with longer content</th>
          <th scope="col">Header 4 text</th>
          <th scope="col">Header 5</th>
        </tr>
      </thead>
    </table>
  </div>

  <div id="table-scroll" class="table-scroll">
    <table id="main-table" class="main-table">
      <thead>
        <tr>
          <th scope="col">Header 1</th>
          <th scope="col">Header 2</th>
          <th scope="col">Header 3 with longer content</th>
          <th scope="col">Header 4 text</th>
          <th scope="col">Header 5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
        <tr>
          <th>Left Column</th>
          <td>Cell content<br>
            test </td>
          <td><a href="#">Cell content longer</a></td>
          <td>Cell content with more content and more content Cell </td>
          <td>Cell content with more content and more content Cell</td>
        </tr>
      </tbody>
    </table>
  </div>

  <p class="intro">Works in latest versions of modern browsers i.e. Edge, Chrome, Safari/ios and Firefox. Does not work
    in IE11 or older browsers but no harm done.</p>
  <p class="intro">All of the other fixed table headers and footers that I've seen are either fixed width or fixed
    height or need a continuous update with JS and are very janky. This one is very smooth. You would of course need to
    linearise the data for smaller screens/mobile but that is a question for another day :). See <a
      href="http://www.pmob.co.uk/temp2/table-fixed-head-foot4.html" target="_blank">this example</a> for a demo of how
    to linearise for mobile.</p>

  <p class="intro"><strong> See <a href="https://codepen.io/paulobrien/pen/LjRNXa" target="_blank">JS
        Version</a></strong></p>


  <script type="text/javascript">
    // table
    const tableContainer = document.querySelector('.table-scroll');
    const table = document.querySelector('#main-table');
    const tableHeader = table.querySelector('thead');
    const tableHeaderCells = tableHeader.getElementsByTagName('th');

    // get column widths
    let tableColumnWidths = [];
    for (const tableHeaderCell of tableHeaderCells) {
      const width = tableHeaderCell.offsetWidth;
      tableColumnWidths.push(width);
    }

    // clone table header
    const cloneTableWrapper = document.querySelector('.clone-table-wrapper');
    const cloneTable = document.querySelector('#clone-table');
    const cloneTableHeader = cloneTable.querySelector('thead');
    const cloneTableHeaderCells = cloneTableHeader.getElementsByTagName('th');

    // set clone table column widths
    cloneTableWrapper.style.width = tableContainer.offsetWidth + 'px';
    cloneTable.style.width = table.offsetWidth + 'px';

    for (let step = 0; step < cloneTableHeaderCells.length; step++) {
      cloneTableHeaderCells[step].style.width = tableColumnWidths[step] + 'px';
    }

    window.addEventListener("scroll", (event) => {
      let distanceFromTopOfPage = tableHeader.getBoundingClientRect().top;

      if (distanceFromTopOfPage <= 0) {
        cloneTableWrapper.classList.add('visible');
      } else {
        cloneTableWrapper.classList.remove('visible');
      }
    });

    tableContainer.addEventListener("scroll", (event) => {
      const tableScrollLeftAmount = table.getBoundingClientRect().left;
      cloneTable.style.left = tableScrollLeftAmount + 'px';
    });
  </script>
</body>
</html>